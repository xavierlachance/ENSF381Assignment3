<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Register - CompanyCo</title>
</head>

<body>
    <header class="header">
        <div class="logo">
            <img src="logo.png" alt="Company Logo">
        </div>
        <div class="company-name">
            XTC
        </div>
    </header>
    <nav>
        <a href="index.html" class="nav-link">Home</a>
        <a href="products.html" class="nav-link">Products</a>
        <a href="contact.html" class="nav-link">Contact</a>
        <a href="login.html" class="nav-link">Login</a>
    </nav>
    <div class="flexContainer-reg">
        <div class="mainField">
            <form action="" , class="registerForm">
                <label for="first">
                    Username:
                </label>
                <input type="text" id="usrReg" name="usrReg" title="Username" required>
                <label for="pswReg">
                    Password:
                </label>
                <input type="password" id="pswReg" name="pswReg" title="Password" required>
                <label for="pswConfirm">
                    Confirm Password:
                </label>
                <input type="password" id="pswConfirm" name="pswConfirm" title="Confirm Password" required>
                <label for="Email">Email:</label>
                <input type="text" id="Email" name="Email" title="Email" required>
                <button type="submit" class="signupBtn" id="signupBtn">Signup</button>
            </form>
        </div>
    </div>

    <div class="errorBox" id="errorBox"></div> <!-- Error box -->
    <footer class="footer">
        <p>&copy; 2024 Companyco. All rights reserved.</p>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var signupForm = document.querySelector(".registerForm");

            signupForm.addEventListener("submit", function (event) {
                event.preventDefault(); // Prevent the form from submitting

                var username = document.getElementById("usrReg").value;
                var password = document.getElementById("pswReg").value;
                var confirmPassword = document.getElementById("pswConfirm").value;
                var email = document.getElementById("Email").value;
                var errorList = [];

                if (!/^[a-zA-Z][a-zA-Z0-9_-]{2,19}$/.test(username)) {
                    errorList.push("Invalid username format.");
                }

                if (password.length < 8 || !/[a-z]/.test(password) || !/[A-Z]/.test(password) || !/\d/.test(password) || !/[!@#$%^&*()-_=+\[\]{}|;:'",.<>?/`~]/.test(password)) {
                    errorList.push("Invalid password format.");
                }

                if (password !== confirmPassword) {
                    errorList.push("Passwords do not match.");
                }

                if (!/^[\w.-]+@[a-zA-Z\d.-]+\.[a-zA-Z]{2,}$/.test(email)) {
                    errorList.push("Invalid email format.");
                }

                showMessage(errorList);
            });

            function showMessage(errMsg) {
                var errorBox = document.getElementById('errorBox');

                errorBox.innerHTML = '';
                errorBox.style.border = '2px';
                errorBox.style.backgroundColor = '#f9f9f9';
                errorBox.style.padding = '10px';
                errorBox.style.margin= '20px';
                errorBox.style.width= 'auto';
                for (var i = 0; i < errMsg.length; i++) {
                    var messageText = document.createElement('p');
                    messageText.textContent = errMsg[i];
                    errorBox.appendChild(messageText);
                }
            }
        });
    </script>
</body>

</html>
