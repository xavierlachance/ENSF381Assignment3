<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Register - CompanyCo</title>
</head>

<body>
    <header class="header">
        <div class="logo">
            <img src="logo.png" alt="Company Logo">
        </div>
        <div class="company-name">
            XTC
        </div>
    </header>
    <nav>
        <a href="index.html" class="nav-link">Home</a>
        <a href="products.html" class="nav-link">Products</a>
        <a href="contact.html" class="nav-link">Contact</a>
        <a href="login.html" class="nav-link">Login</a>
    </nav>
    <div class="flexContainer-reg">
        <div class="mainField">
            <form action="" , class="registerForm">
                <label for="first">
                    Username:
                </label>
                <input type="text" id="usrReg" name="usrReg" title="Username" required>
                <label for="pswReg">
                    Password:
                </label>
                <input type="password" id="pswReg" name="pswReg" title="Password" required>
                <label for="pswConfirm">
                    Confirm Password:
                </label>
                <input type="password" id="pswConfirm" name="pswConfirm" title="Confirm Password" required>
                <label for=Email>Email:</label>
                <input type="text" id="Email" name="Email" title="Email" required>
                <button type="submit" class="signup-btn" id="signup-btn">Signup</button>
            </form>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 Companyco. All rights reserved.</p>
    </footer>
    <script>
        var password = mainField.getElementById("pswReg").value;
        var username = mainField.getElementById("usrReg").value;
        var confirmPassword = mainField.getElementById("pswConfirm").value;
        var Email = mainField.getAnimations("Email").value;
        var errorList = [];

        signupForm.addEventListener("submit", function (event) {
            if (!/^[a-zA-Z][a-zA-Z0-9_-]{2,19}$/.test(username)) {
                errorList.push("Invalid username format.");
            }

            if (password.length < 8 || !/[a-z]/.test(password) || !/[A-Z]/.test(password) || !/\d/.test(password) || !/[!@#$%^&*()-_=+\[\]{}|;:'",.<>?/`~]/.test(password)) {
                errorList.push("Invalid password format.");
            }

            if (password !== confirmPassword) {
                errorList.push("Passwords do not match.");
            }

            if (!/^[\w.-]+@[a-zA-Z\d.-]+\.[a-zA-Z]{2,}$/.test(email)) {
                errorList.push("Invalid email format.");
            }

        });

        function showMessage(erMsg) {
            let errorBox = mainField.getElementById('message-box');

            if (!errorBox) {
                errorBox = mainField.createElement('div');
                errorBox.id = 'message-box';
                mainField.querySelector('main').appendChild(errorBox);

                errorBox.style.backgroundColor = '#f9f9f9';
                errorBox.style.border = '2px';
                errorBox.style.margin = '20px';
                errorBox.style.padding = '10px';
            }

            errorBox.innerHTML = '';

            for (let i = 0; i < message.length; i++) {
                const messageText = mainField.createElement('p');
                messageText.textContent = erMsg[i];
                errorBox.appendChild(messageText);
            }
        }
    </script>

</body>

</html>